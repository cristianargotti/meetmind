---
const { t } = Astro.props;
---

<section class="hero" id="hero">
  <div class="container hero-grid">
    <!-- Left: Copy -->
    <div class="hero-content animate-on-scroll">
      <span class="badge hero-badge">{t.hero.tagline}</span>
      <h1 class="hero-title">
        <span class="text-gradient">{t.hero.title}</span>
      </h1>
      <p class="hero-subtitle">{t.hero.subtitle}</p>
      <div class="hero-actions">
        <a href="#download" class="btn btn-primary">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
          {t.hero.cta}
        </a>
        <a href="#how-it-works" class="btn btn-secondary">
          {t.hero.ctaSecondary}
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>
        </a>
      </div>
      <div class="store-badges">
        <a href="#" aria-label="Download on the App Store">
          <img src="/app-store-badge.svg" alt="App Store" width="140" height="42" loading="lazy" />
        </a>
        <span class="android-soon">Android — Próximamente</span>
      </div>
    </div>

    <!-- Right: Ultra-realistic animated phone -->
    <div class="hero-phone-wrap animate-on-scroll" style="animation-delay: 0.2s">
      <div class="hero-phone">
        <div class="phone-screen">
          <!-- Status bar -->
          <div class="ph-statusbar">
            <span class="ph-time">10:42</span>
            <div class="ph-notch"></div>
            <div class="ph-status-icons">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3a4.237 4.237 0 00-6 0zm-4-4l2 2a7.074 7.074 0 0110 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><rect x="17" y="4" width="5" height="16" rx="1"/><rect x="11" y="8" width="5" height="12" rx="1"/><rect x="5" y="12" width="5" height="8" rx="1"/></svg>
              <span class="ph-battery">87%</span>
            </div>
          </div>

          <!-- App header -->
          <div class="ph-header">
            <svg class="ph-back" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
            <div class="ph-header-info">
              <span class="ph-title">{t.hero.phone.meetingTitle}</span>
              <span class="ph-timer">12:34</span>
            </div>
            <div class="ph-header-badges">
              <span class="ph-badge-live">LIVE</span>
            </div>
          </div>

          <!-- Waveform -->
          <div class="ph-waveform">
            <div class="wave-bar" style="--h: 12px; --d: 0s"></div>
            <div class="wave-bar" style="--h: 24px; --d: 0.1s"></div>
            <div class="wave-bar" style="--h: 8px; --d: 0.2s"></div>
            <div class="wave-bar" style="--h: 32px; --d: 0.05s"></div>
            <div class="wave-bar" style="--h: 16px; --d: 0.15s"></div>
            <div class="wave-bar" style="--h: 28px; --d: 0.08s"></div>
            <div class="wave-bar" style="--h: 10px; --d: 0.22s"></div>
            <div class="wave-bar" style="--h: 36px; --d: 0.12s"></div>
            <div class="wave-bar" style="--h: 14px; --d: 0.18s"></div>
            <div class="wave-bar" style="--h: 20px; --d: 0.03s"></div>
            <div class="wave-bar" style="--h: 30px; --d: 0.16s"></div>
            <div class="wave-bar" style="--h: 8px; --d: 0.25s"></div>
            <div class="wave-bar" style="--h: 22px; --d: 0.07s"></div>
            <div class="wave-bar" style="--h: 18px; --d: 0.14s"></div>
            <div class="wave-bar" style="--h: 26px; --d: 0.02s"></div>
            <div class="wave-bar" style="--h: 10px; --d: 0.2s"></div>
            <div class="wave-bar" style="--h: 34px; --d: 0.09s"></div>
            <div class="wave-bar" style="--h: 12px; --d: 0.11s"></div>
            <div class="wave-bar" style="--h: 28px; --d: 0.06s"></div>
            <div class="wave-bar" style="--h: 16px; --d: 0.19s"></div>
          </div>

          <!-- Tabs -->
          <div class="ph-tabs">
            <span class="ph-tab active">{t.hero.phone.tabTranscript}</span>
            <span class="ph-tab">{t.hero.phone.tabInsights}</span>
            <span class="ph-tab">{t.hero.phone.tabSummary}</span>
            <span class="ph-tab">{t.hero.phone.tabCopilot}</span>
          </div>

          <!-- Transcript bubbles -->
          <div class="ph-transcript">
            <div class="ph-bubble ph-bubble-1">
              <span class="ph-speaker">{t.hero.phone.speaker1}</span>
              <p class="ph-text">{t.hero.phone.text1}</p>
              <span class="ph-ts">10:30</span>
            </div>
            <div class="ph-bubble ph-bubble-2">
              <span class="ph-speaker you">{t.hero.phone.speaker2}</span>
              <p class="ph-text">{t.hero.phone.text2}</p>
              <span class="ph-ts">10:31</span>
            </div>
            <div class="ph-bubble ph-bubble-3 typing">
              <span class="ph-speaker">{t.hero.phone.speaker3}</span>
              <p class="ph-text">{t.hero.phone.text3}<span class="cursor-blink">|</span></p>
              <span class="ph-ts">Now</span>
            </div>
          </div>

          <!-- Floating notification -->
          <div class="ph-notification">
            <div class="ph-notif-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#06D6A0" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
            </div>
            <div class="ph-notif-content">
              <span class="ph-notif-title">{t.hero.phone.notifTitle}</span>
              <span class="ph-notif-desc">{t.hero.phone.notifDesc}</span>
            </div>
          </div>

          <!-- Bottom nav -->
          <div class="ph-bottomnav">
            <div class="ph-nav-item">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>
            </div>
            <div class="ph-nav-item active-nav">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z"/><path d="M19 10v2a7 7 0 01-14 0v-2"/></svg>
            </div>
            <div class="ph-nav-item">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            </div>
            <div class="ph-nav-item">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
            </div>
          </div>
        </div>
      </div>
      <!-- Glow effect behind phone -->
      <div class="phone-glow" aria-hidden="true"></div>
    </div>
  </div>
</section>

<style>
  .hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    padding-top: calc(var(--nav-height) + var(--space-xl));
    padding-bottom: var(--space-2xl);
  }
  .hero-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
    align-items: center;
  }
  .hero-badge { margin-bottom: var(--space-md); }
  .hero-title {
    font-size: var(--fs-display);
    font-weight: 900;
    line-height: var(--lh-tight);
    letter-spacing: -0.04em;
    margin-bottom: var(--space-md);
  }
  .hero-subtitle {
    color: var(--text-secondary);
    font-size: var(--fs-h3);
    line-height: var(--lh-normal);
    max-width: 520px;
    margin-bottom: var(--space-lg);
  }
  .hero-actions {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-bottom: var(--space-lg);
  }
  .store-badges {
    display: flex;
    gap: var(--space-sm);
    align-items: center;
  }
  .store-badges img { border-radius: 8px; }
  .android-soon {
    font-size: var(--fs-caption);
    color: var(--text-muted);
    border: 1px solid var(--border-dark);
    border-radius: 8px;
    padding: 10px 16px;
    font-weight: 500;
    letter-spacing: 0.02em;
  }

  /* ─── Phone Container ─── */
  .hero-phone-wrap {
    position: relative;
    display: flex;
    justify-content: center;
  }
  .hero-phone {
    width: 280px;
    height: 580px;
    background: linear-gradient(145deg, #1E2230, #08090D);
    border-radius: 40px;
    padding: 8px;
    position: relative;
    z-index: 2;
    box-shadow:
      0 24px 80px rgba(0,0,0,0.5),
      0 0 0 1px rgba(255,255,255,0.05),
      inset 0 1px 0 rgba(255,255,255,0.08);
    animation: float 6s ease-in-out infinite;
  }
  .phone-screen {
    width: 100%;
    height: 100%;
    background: #0F1117;
    border-radius: 32px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    position: relative;
  }
  .phone-glow {
    position: absolute;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(139,92,246,0.2) 0%, transparent 70%);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    animation: pulseGlow 4s ease-in-out infinite;
  }

  /* ─── Status Bar ─── */
  .ph-statusbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 20px 4px;
    font-size: 11px;
    color: var(--text-secondary);
    position: relative;
  }
  .ph-time { font-weight: 600; color: var(--text-primary); }
  .ph-notch {
    width: 100px;
    height: 26px;
    background: #000;
    border-radius: 0 0 18px 18px;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
  }
  .ph-status-icons {
    display: flex;
    align-items: center;
    gap: 4px;
    color: var(--text-secondary);
  }
  .ph-battery { font-size: 10px; font-weight: 500; }

  /* ─── App Header ─── */
  .ph-header {
    display: flex;
    align-items: center;
    padding: 8px 14px;
    gap: 8px;
    border-bottom: 1px solid var(--border-dark);
  }
  .ph-back { color: var(--primary); flex-shrink: 0; }
  .ph-header-info { flex: 1; }
  .ph-title {
    display: block;
    font-size: 14px;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1.2;
  }
  .ph-timer {
    font-size: 11px;
    color: var(--primary-light);
    font-weight: 500;
    font-variant-numeric: tabular-nums;
  }
  .ph-header-badges { display: flex; gap: 4px; }
  .ph-badge-live {
    font-size: 9px;
    font-weight: 700;
    padding: 2px 8px;
    border-radius: 100px;
    background: rgba(239, 68, 68, 0.15);
    color: #EF4444;
    letter-spacing: 0.05em;
    animation: pulseRed 2s ease-in-out infinite;
  }

  @keyframes pulseRed {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }

  /* ─── Waveform ─── */
  .ph-waveform {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 3px;
    padding: 10px 14px;
    background: rgba(139, 92, 246, 0.05);
  }
  .wave-bar {
    width: 3px;
    height: var(--h);
    background: linear-gradient(180deg, var(--primary), #EC4899);
    border-radius: 2px;
    animation: waveAnim 0.8s ease-in-out infinite;
    animation-delay: var(--d);
  }

  @keyframes waveAnim {
    0%, 100% { transform: scaleY(0.3); opacity: 0.4; }
    50% { transform: scaleY(1); opacity: 1; }
  }

  /* ─── Tabs ─── */
  .ph-tabs {
    display: flex;
    padding: 0 10px;
    gap: 2px;
    border-bottom: 1px solid var(--border-dark);
  }
  .ph-tab {
    flex: 1;
    text-align: center;
    font-size: 10px;
    font-weight: 500;
    padding: 8px 0;
    color: var(--text-muted);
  }
  .ph-tab.active {
    color: var(--primary);
    border-bottom: 2px solid var(--primary);
    font-weight: 600;
  }

  /* ─── Transcript ─── */
  .ph-transcript {
    flex: 1;
    padding: 10px 12px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    overflow: hidden;
  }
  .ph-bubble {
    background: var(--bg-card);
    border: 1px solid var(--border-dark);
    border-radius: 12px;
    padding: 8px 10px;
    opacity: 0;
    animation: bubbleIn 0.5s ease forwards;
  }
  .ph-bubble-1 { animation-delay: 0.5s; }
  .ph-bubble-2 { animation-delay: 1.5s; }
  .ph-bubble-3 { animation-delay: 2.5s; }

  @keyframes bubbleIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .ph-speaker {
    font-size: 9px;
    font-weight: 700;
    color: var(--primary-light);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .ph-speaker.you { color: var(--accent); }
  .ph-text {
    font-size: 11px;
    color: var(--text-primary);
    line-height: 1.4;
    margin-top: 2px;
  }
  .ph-ts {
    font-size: 9px;
    color: var(--text-muted);
    display: block;
    text-align: right;
    margin-top: 2px;
  }

  .cursor-blink {
    animation: cursorBlink 1s step-end infinite;
    color: var(--primary);
    font-weight: 300;
  }
  @keyframes cursorBlink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* ─── Floating Notification ─── */
  .ph-notification {
    position: absolute;
    bottom: 60px;
    left: 12px;
    right: 12px;
    background: rgba(22, 25, 34, 0.95);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(6, 214, 160, 0.2);
    border-radius: 12px;
    padding: 10px 12px;
    display: flex;
    align-items: center;
    gap: 10px;
    opacity: 0;
    transform: translateY(20px);
    animation: notifSlide 0.5s ease forwards 3.5s;
    box-shadow: 0 8px 30px rgba(0,0,0,0.4), 0 0 20px rgba(6, 214, 160, 0.08);
  }
  @keyframes notifSlide {
    to { opacity: 1; transform: translateY(0); }
  }
  .ph-notif-icon {
    width: 32px;
    height: 32px;
    background: rgba(6, 214, 160, 0.1);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .ph-notif-content { min-width: 0; }
  .ph-notif-title {
    display: block;
    font-size: 10px;
    font-weight: 700;
    color: var(--accent);
    letter-spacing: 0.02em;
  }
  .ph-notif-desc {
    display: block;
    font-size: 10px;
    color: var(--text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* ─── Bottom Nav ─── */
  .ph-bottomnav {
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 10px 0;
    border-top: 1px solid var(--border-dark);
    background: var(--bg-secondary);
  }
  .ph-nav-item { color: var(--text-muted); }
  .ph-nav-item.active-nav { color: var(--primary); }

  /* ─── Responsive ─── */
  @media (min-width: 1024px) {
    .hero-grid {
      grid-template-columns: 1fr 1fr;
    }
  }
  @media (max-width: 480px) {
    .hero-phone {
      width: 240px;
      height: 500px;
    }
  }
</style>
